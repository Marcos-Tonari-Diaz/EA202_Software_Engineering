{"remainingRequest":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado2/uc2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado2/uc2/src/components/entregaHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado2/uc2/src/components/entregaHome.vue","mtime":1611015273724},{"path":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado2/uc2/node_modules/babel-loader/lib/index.js","mtime":1610728963064},{"path":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado2/uc2/node_modules/cache-loader/dist/cjs.js","mtime":1610728963176},{"path":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado2/uc2/node_modules/vue-loader/lib/index.js","mtime":1610728965244}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBlbnRyZWdhSXRlbUNhcmQgZnJvbSAnLi9lbnRyZWdhQ2FyZC52dWUnOwoKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZW50cmVnYUhvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIGVudHJlZ2FJdGVtQ2FyZAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1zOiBbXSwKICAgICAgbnVtZXJvOiAwLAogICAgICBlbnRyZWdhZG9yOiAiIgogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlSXRlbXM6IGZ1bmN0aW9uKCl7CiAgICAgIGF4aW9zCiAgICAgIC5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9lbnRyZWdhJykKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5pdGVtcyAgPSByZXNwb25zZS5kYXRhOwogICAgICB9KQogICAgfSwKICAgIGdldEVudHJlZ2Fkb3I6IGZ1bmN0aW9uKCl7CiAgICAgIGF4aW9zCiAgICAgIC5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9lbnRyZWdhZG9yTG9naW4nKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmVudHJlZ2Fkb3IgID0gcmVzcG9uc2UuZGF0YVswXVsibm9tZV9lbnRyZWdhZG9yIl07CiAgICAgIH0pCiAgICB9LAoKICAgIGNvbmZpcm06IGZ1bmN0aW9uKGVudHJlZ2FOdW1iZXIpewogICAgICB0aGlzLm51bWVybyA9IGVudHJlZ2FOdW1iZXI7CiAgICAgIC8vdGhpcy4kcm9vdC4kZGF0YS5udW1lcm9FbnRyZWdhLm51bSA9IGVudHJlZ2FOdW1iZXI7CiAgICAgIGxldCByZXF1ZXN0SlNPTiA9IHtudW1lcm86IHRoaXMubnVtZXJvLCBub21lX2VudHJlZ2Fkb3I6IHRoaXMuZW50cmVnYWRvcn0gOwogICAgICBheGlvcwoJCQkJLnB1dCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2VudHJlZ2EnLCByZXF1ZXN0SlNPTikKCQkJCS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoJCSAgICB9KQogICAgfSwKICAgIGdvVG9NYXAgOiBmdW5jdGlvbigpewogICAgbGV0IHJlcXVlc3RKU09OID0ge251bWVybzogdGhpcy5udW1lcm8sIHN0YXR1czogImVtIHZpYWdlbSJ9IDsKICAgIGF4aW9zCgkJCQkucHV0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvZW50cmVnYScsIHJlcXVlc3RKU09OKQoJCQkJLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgkJICAgIH0pCiAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdtYXBhJywgcGFyYW1zOiB7IG51bTogdGhpcy5udW1lcm8gfSB9KQogICAgfQogIH0sCiAgYmVmb3JlTW91bnQoKXsKICAgIHRoaXMudXBkYXRlSXRlbXMoKTsKICAgIHRoaXMuZ2V0RW50cmVnYWRvcigpOwogIH0KfTsK"},{"version":3,"sources":["entregaHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"entregaHome.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n  <v-row>\n    <v-col cols=6 >\n    <v-col \n      v-for=\"item in items\" :key=\"item.name\"\n    >\n      <entregaItemCard\n        v-bind:numero_da_entrega = \"item.numero_da_entrega\" \n        v-bind:endereco = \"item.endereco\" \n        v-bind:pratos = \"item.pratos\" \n        v-bind:status = \"item.status\" \n\n        v-on:confirm = \"confirm\"\n      >\n      </entregaItemCard>\n    </v-col>\n    </v-col>\n    <v-divider vertical></v-divider>\n    <v-col cols=4>\n  <v-col>\n    <v-card\n     class=\"mx-auto\"\n     >\n      <v-card-text>Entregador: {{entregador}}\n        <v-avatar color=\"indigo\">\n          <v-icon dark>\n            mdi-account-circle\n          </v-icon>\n        </v-avatar>      \n      </v-card-text>\n      <v-divider ></v-divider>\n      <v-card-text>CONFIRMAR ENTREGA </v-card-text>\n      <v-card-title> #{{numero}} </v-card-title>\n        <v-card-actions>\n            <v-btn \n                v-on:click = 'goToMap()'\n                dark\n                color=\"indigo\"\n                x-large\n            > SAIR PARA A ENTREGA\n            </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-col>\n  </v-col>\n  </v-row>\n  </v-container>\n</template>\n\n<script>\nimport entregaItemCard from './entregaCard.vue';\n\nimport axios from 'axios';\n\nexport default {\n  name: 'entregaHome',\n  components: {\n    entregaItemCard\n  },\n  data() {\n    return {\n      items: [],\n      numero: 0,\n      entregador: \"\"\n    }\n  },\n  methods: {\n    updateItems: function(){\n      axios\n      .get('http://localhost:3000/entrega')\n      .then((response) => {\n        this.items  = response.data;\n      })\n    },\n    getEntregador: function(){\n      axios\n      .get('http://localhost:3000/entregadorLogin')\n      .then((response) => {\n        this.entregador  = response.data[0][\"nome_entregador\"];\n      })\n    },\n\n    confirm: function(entregaNumber){\n      this.numero = entregaNumber;\n      //this.$root.$data.numeroEntrega.num = entregaNumber;\n      let requestJSON = {numero: this.numero, nome_entregador: this.entregador} ;\n      axios\n\t\t\t\t.put('http://localhost:3000/entrega', requestJSON)\n\t\t\t\t.then((response) => {\n          console.log(response);\n\t\t    })\n    },\n    goToMap : function(){\n    let requestJSON = {numero: this.numero, status: \"em viagem\"} ;\n    axios\n\t\t\t\t.put('http://localhost:3000/entrega', requestJSON)\n\t\t\t\t.then((response) => {\n          console.log(response);\n\t\t    })\n    this.$router.push({ name: 'mapa', params: { num: this.numero } })\n    }\n  },\n  beforeMount(){\n    this.updateItems();\n    this.getEntregador();\n  }\n};\n</script>"]}]}