{"remainingRequest":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado/uc2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado/uc2/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado/uc2/src/App.vue","mtime":1610995225744},{"path":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado/uc2/node_modules/babel-loader/lib/index.js","mtime":1610722486416},{"path":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado/uc2/node_modules/cache-loader/dist/cjs.js","mtime":1610722486472},{"path":"/home/marcos/Documents/6SEM/EA202/restauranteNEW/restaurante/designdetalhado/uc2/node_modules/vue-loader/lib/index.js","mtime":1610722487772}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmb29kSXRlbUNhcmQgZnJvbSAnLi9jb21wb25lbnRzL2Zvb2RJdGVtQ2FyZCc7CgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIGZvb2RJdGVtQ2FyZCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpdGVtczogW10sCiAgICAgIGNhdGVnb3JpZXM6IFsidG9kYXMiXSwKICAgICAgc2VsZWN0ZWRfY2F0ZWdvcnk6ICJ0b2RhcyIsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZmlsdGVyZWRfaXRlbXM6IGZ1bmN0aW9uKCl7CiAgICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aDwxKXsKICAgICAgICByZXR1cm4gdGhpcy5pdGVtcwogICAgICB9CiAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRfY2F0ZWdvcnk9PSJ0b2RhcyIpewogICAgICAgIHJldHVybiB0aGlzLml0ZW1zCiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoCiAgICAgICAgICAoaXQpID0+IGl0LmNhdGVnb3J5ID09IHRoaXMuc2VsZWN0ZWRfY2F0ZWdvcnkKICAgICAgICApCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZU1lbnU6IGZ1bmN0aW9uKCl7CiAgICAgIGF4aW9zCiAgICAgIC5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9jYXJkYXBpbycpCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuaXRlbXMgID0gcmVzcG9uc2UuZGF0YVsiZm9vZEl0ZW1zIl07CiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuaXRlbXMpewogICAgICAgICAgaXRlbS5udW1iZXJPcmRlcmVkID0gMDsKICAgICAgICAgIGlmICghdGhpcy5jYXRlZ29yaWVzLmluY2x1ZGVzKGl0ZW0uY2F0ZWdvcnkpKQogICAgICAgICAgICB0aGlzLmNhdGVnb3JpZXMucHVzaChpdGVtLmNhdGVnb3J5KTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgcHJlcGFyYV9wZWRpZG86IGZ1bmN0aW9uKCl7CiAgICAgIGxldCBwZWRpZG9JdGVtID0ge2NsaWVudGU6ICIwMTIwMyIsIHByYXRvczogW119CiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLml0ZW1zKXsKICAgICAgICBpZiAoaXRlbS5udW1iZXJPcmRlcmVkID4gMCl7CiAgICAgICAgICBwZWRpZG9JdGVtLnByYXRvcy5wdXNoKHtuYW1lOiBpdGVtLm5hbWUsIHF1YW50aXR5OiBpdGVtLm51bWJlck9yZGVyZWQsIHByaWNlOiBpdGVtLnByaWNlfSkKICAgICAgICB9CiAgICAgIH0KICAgICAgYXhpb3MKICAgICAgLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wZWRpZG9wb3N0JywgcGVkaWRvSXRlbSkKCQkJLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgkJCQkJdGhpcy5wYXlsb2FkID0gcmVzcG9uc2UuZGF0YTsKCQkJCQl0aGlzLmNvZGlnbyA9IHJlc3BvbnNlLnN0YXR1czsKCQkJfSkKICAgIH0sCiAgICBzZWxlY3RfY2F0ZWdvcnk6IGZ1bmN0aW9uKGNhdGVnb3J5KXsKICAgICAgdGhpcy5zZWxlY3RlZF9jYXRlZ29yeSA9IGNhdGVnb3J5OwogICAgfSwKICAgIGFkZE9yZGVyOiBmdW5jdGlvbihjYXJkTmFtZSl7CiAgICAgIHRoaXMuaXRlbXMuZmluZCggKGl0KT0+aXQubmFtZSA9PSBjYXJkTmFtZSApLm51bWJlck9yZGVyZWQrPTE7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAogICAgcmVtb3ZlT3JkZXI6IGZ1bmN0aW9uKGNhcmROYW1lKXsKICAgICAgaWYgKHRoaXMuaXRlbXMuZmluZCggKGl0KT0+aXQubmFtZSA9PSBjYXJkTmFtZSApLm51bWJlck9yZGVyZWQ+MCl7CiAgICAgICAgdGhpcy5pdGVtcy5maW5kKCAoaXQpPT5pdC5uYW1lID09IGNhcmROYW1lICkubnVtYmVyT3JkZXJlZC09MTsKICAgICAgfQogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQoKXsKICAgIHRoaXMudXBkYXRlTWVudSgpOwogIH0KfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-main class=\"grey lighten-3\">\n      <v-card class=\"overflow-hidden\">\n        <v-app-bar\n          color=\"#6A76AB\"\n          dark\n        >\n          <h1>Card√°pio</h1>\n          <v-spacer></v-spacer>\n          <template v-slot:extension>\n            <v-tabs>\n              <v-tab>Estoque</v-tab>\n              <v-tab>Pedido</v-tab>\n              <v-tab>Entrega</v-tab>\n            </v-tabs>\n          </template>\n        </v-app-bar>\n      </v-card>\n      <v-row>\n      <v-col cols=\"2\">\n      <v-container>\n          <v-list dense rounded=\"lg\">\n            <v-subheader>CATEGORIAS</v-subheader>\n            <v-divider></v-divider>\n              <v-list-item-group\n                color=\"primary\"\n              >\n                <v-list-item\n                  v-for=\"category in categories\" :key=\"category\"\n                  v-on:click = \"select_category(category)\"\n                >\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"category\"></v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list-item-group>\n          </v-list>\n      </v-container>\n      </v-col>\n      <v-divider\n        vertical\n      ></v-divider>\n      <v-col cols=\"7\">\n      <v-container>\n        <v-row>\n          <v-col\n            v-for=\"item in filtered_items\" :key=\"item.name\"\n            cols=\"4\"\n          >\n            <foodItemCard\n              v-bind:name = \"item.name\" \n              v-bind:description = \"item.description\" \n              v-bind:price = \"item.price\" \n              v-bind:category = \"item.category\"\n              v-bind:imgSource = \"item.image_path\"\n              v-bind:nOrdered = \"item.numberOrdered\"\n\n              v-on:add_item = \"addOrder\"\n              v-on:remove_item = \"removeOrder\"\n            >\n            </foodItemCard>\n          </v-col>\n        </v-row>\n      </v-container>\n      </v-col>\n      <v-divider\n        vertical\n      ></v-divider>\n      <v-col cols=\"2\">\n        <div align=\"center\">\n        <v-container>\n          <v-card\n            rounded=\"lg\"\n          >\n            <h1 > Pronto para fazer seu pedido? </h1>\n            <v-spacer></v-spacer>\n            <v-btn\n              x-large\n              color=\"secondary\"\n              href=\"/about\"\n              v-on:click = \"prepara_pedido()\"\n            >\n              PEDIR\n            </v-btn>\n            <v-spacer></v-spacer>\n          </v-card>\n          </v-container>\n        </div>\n      </v-col>\n      </v-row>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport foodItemCard from './components/foodItemCard';\n\nimport axios from 'axios';\n\nexport default {\n  name: 'App',\n  components: {\n    foodItemCard,\n  },\n  data() {\n    return {\n      items: [],\n      categories: [\"todas\"],\n      selected_category: \"todas\",\n    }\n  },\n  computed: {\n    filtered_items: function(){\n      if (this.items.length<1){\n        return this.items\n      }\n      else if (this.selected_category==\"todas\"){\n        return this.items\n      }\n      else{\n        return this.items.filter(\n          (it) => it.category == this.selected_category\n        )\n      }\n    }\n  },\n  methods: {\n    updateMenu: function(){\n      axios\n      .get('http://localhost:3000/cardapio')\n      .then((response) => {\n        this.items  = response.data[\"foodItems\"];\n        for (const item of this.items){\n          item.numberOrdered = 0;\n          if (!this.categories.includes(item.category))\n            this.categories.push(item.category);\n        }\n      })\n    },\n    prepara_pedido: function(){\n      let pedidoItem = {cliente: \"01203\", pratos: []}\n      for (const item of this.items){\n        if (item.numberOrdered > 0){\n          pedidoItem.pratos.push({name: item.name, quantity: item.numberOrdered, price: item.price})\n        }\n      }\n      axios\n      .post('http://localhost:3000/pedidopost', pedidoItem)\n\t\t\t.then((response) => {\n\t\t\t\t\tthis.payload = response.data;\n\t\t\t\t\tthis.codigo = response.status;\n\t\t\t})\n    },\n    select_category: function(category){\n      this.selected_category = category;\n    },\n    addOrder: function(cardName){\n      this.items.find( (it)=>it.name == cardName ).numberOrdered+=1;\n      this.$forceUpdate();\n    },\n    removeOrder: function(cardName){\n      if (this.items.find( (it)=>it.name == cardName ).numberOrdered>0){\n        this.items.find( (it)=>it.name == cardName ).numberOrdered-=1;\n      }\n      this.$forceUpdate();\n    }\n  },\n  beforeMount(){\n    this.updateMenu();\n  }\n};\n</script>"]}]}